{% if page_obj and page_obj.paginator.num_pages > 1 %}
<nav class="mt-6 flex items-center justify-center gap-1 text-sm" aria-label="Pagination">
  {% if page_obj.has_previous %}
    <a class="px-3 py-1 rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100"
       href="?{% if pagination_query %}{{ pagination_query }}&amp;{% endif %}page={{ page_obj.previous_page_number }}">
      ‹ Prev
    </a>
  {% endif %}

  {% for num in page_obj.paginator.page_range %}
    {% if num == page_obj.number %}
      <span class="px-3 py-1 rounded-full bg-sky-500 text-white font-semibold">{{ num }}</span>
    {% elif num >= page_obj.number|add:'-2' and num <= page_obj.number|add:'2' %}
      <a class="px-3 py-1 rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100"
         href="?{% if pagination_query %}{{ pagination_query }}&amp;{% endif %}page={{ num }}">
        {{ num }}
      </a>
    {% endif %}
  {% endfor %}

  {% if page_obj.has_next %}
    <a class="px-3 py-1 rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100"
       href="?{% if pagination_query %}{{ pagination_query }}&amp;{% endif %}page={{ page_obj.next_page_number }}">
      Next ›
    </a>
  {% endif %}
</nav>
{% endif %}

